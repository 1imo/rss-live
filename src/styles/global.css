@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    /* Custom font loading and fallbacks */
    html {
        font-family:
            Inter,
            system-ui,
            -apple-system,
            BlinkMacSystemFont,
            "Segoe UI",
            Roboto,
            sans-serif;
    }

    /* Smooth scrolling for all elements */
    * {
        scroll-behavior: smooth;
    }

    /* Custom scrollbar styles */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-gray-100 dark:bg-times-950;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-400 dark:bg-times-700 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-500 dark:bg-times-600;
    }

    /* Focus styles */
    :focus-visible {
        @apply outline-none ring-2 ring-gray-500 ring-offset-2 ring-offset-white dark:ring-offset-black;
    }

    /* Typography improvements */
    .font-display {
        font-family: "Playfair Display", serif;
    }

    /* Better text rendering */
    body {
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

@layer components {
    /* Article typography */
    .article-content {
        @apply text-gray-800 dark:text-gray-200 leading-relaxed;
    }

    .article-content h1,
    .article-content h2,
    .article-content h3,
    .article-content h4,
    .article-content h5,
    .article-content h6 {
        @apply font-display font-semibold text-gray-900 dark:text-gray-100 mb-4;
    }

    .article-content h1 {
        @apply text-3xl lg:text-4xl;
    }

    .article-content h2 {
        @apply text-2xl lg:text-3xl;
    }

    .article-content h3 {
        @apply text-xl lg:text-2xl;
    }

    .article-content p {
        @apply mb-6 text-lg leading-8;
    }

    .article-content a {
        @apply text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 underline underline-offset-2 transition-colors;
    }

    .article-content blockquote {
        @apply border-l-4 border-gray-500 pl-6 italic text-gray-700 dark:text-gray-300 my-8;
    }

    .article-content code {
        @apply bg-gray-100 dark:bg-black px-2 py-1 rounded text-sm font-mono;
    }

    .article-content pre {
        @apply bg-gray-100 dark:bg-black p-4 rounded-lg overflow-x-auto my-6;
    }

    .article-content pre code {
        @apply bg-transparent p-0;
    }

    .article-content ul,
    .article-content ol {
        @apply mb-6 pl-6 space-y-2;
    }

    .article-content ul {
        @apply list-disc;
    }

    .article-content ol {
        @apply list-decimal;
    }

    /* Button components */
    .btn {
        @apply inline-flex items-center justify-center px-4 py-2 rounded-md font-medium text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
    }

    .btn-primary {
        @apply bg-gray-900 text-white hover:bg-gray-700 focus:ring-gray-500 dark:bg-gray-100 dark:text-gray-900 dark:hover:bg-gray-300;
    }

    .btn-secondary {
        @apply bg-gray-200 dark:bg-black text-gray-900 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-800 focus:ring-gray-500;
    }

    .btn-ghost {
        @apply bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-black focus:ring-gray-500;
    }

    /* Card components */
    .card {
        @apply bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 transition-all duration-200;
    }

    .card-hover {
        @apply hover:shadow-md hover:border-gray-300 dark:hover:border-gray-600;
    }

    /* Navigation styles */
    .nav-link {
        @apply text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium transition-colors duration-200 px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-black;
    }

    .nav-link-active {
        @apply text-gray-900 dark:text-gray-100 bg-gray-100 dark:bg-black;
    }

    /* Form components */
    .form-input {
        @apply w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-black text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors;
    }

    .form-label {
        @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2;
    }

    /* Loading states */
    .loading-skeleton {
        @apply animate-pulse bg-gray-200 dark:bg-black rounded;
    }

    /* Responsive text sizes */
    .text-responsive-xs {
        @apply text-xs sm:text-sm;
    }

    .text-responsive-sm {
        @apply text-sm sm:text-base;
    }

    .text-responsive-base {
        @apply text-base sm:text-lg;
    }

    .text-responsive-lg {
        @apply text-lg sm:text-xl;
    }

    .text-responsive-xl {
        @apply text-xl sm:text-2xl;
    }

    .text-responsive-2xl {
        @apply text-2xl sm:text-3xl;
    }

    .text-responsive-3xl {
        @apply text-3xl sm:text-4xl;
    }
}

@layer utilities {
    /* Custom utilities for the news site */
    .text-balance {
        text-wrap: balance;
    }

    .text-pretty {
        text-wrap: pretty;
    }

    /* Container utilities */
    .container-prose {
        @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    .container-wide {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    /* Gradient utilities */
    .gradient-fade {
        background: linear-gradient(
            to bottom,
            transparent,
            rgba(0, 0, 0, 0.05),
            transparent
        );
    }

    .gradient-fade-dark {
        background: linear-gradient(
            to bottom,
            transparent,
            rgba(255, 255, 255, 0.05),
            transparent
        );
    }

    /* Animation utilities */
    .animate-fade-in {
        animation: fadeIn 0.3s ease-in-out;
    }

    .animate-slide-up {
        animation: slideUp 0.3s ease-out;
    }

    .animate-slide-down {
        animation: slideDown 0.3s ease-out;
    }

    /* Print styles */
    @media print {
        .print-hidden {
            display: none !important;
        }

        .print-visible {
            display: block !important;
        }

        body {
            @apply text-black bg-white;
        }

        a {
            @apply text-black no-underline;
        }

        a::after {
            content: " (" attr(href) ")";
            @apply text-sm text-gray-600;
        }
    }
}

/* Custom animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Dark mode improvements */
@media (prefers-color-scheme: dark) {
    html:not([class]) {
        color-scheme: dark;
    }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .card {
        @apply border-2 border-black dark:border-white;
    }

    .btn {
        @apply border-2 border-current;
    }
}